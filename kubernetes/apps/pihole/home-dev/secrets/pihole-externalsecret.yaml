apiVersion: external-secrets.io/v1
kind: ExternalSecret
metadata:
    name: pihole-secret
    namespace: pihole
spec:
    refreshInterval: 8h
    secretStoreRef:
        kind: ClusterSecretStore
        name: azure-store
    target:
        name: pihole-secret
        creationPolicy: Owner
    data:
        # name of the SECRET in the Azure KV (no prefix is by default a SECRET)
        - secretKey: FTLCONF_webserver_api_password
          remoteRef:
            key: pihole-webserver-api-password
